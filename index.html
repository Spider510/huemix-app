<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>HÃœMIX Einsatzprotokoll</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {
    font-family: Arial, sans-serif;
    background: #f4f6f4;
    padding: 15px;
}
h1 { color: #2e7d32; }
label { display: block; margin-top: 10px; }
input, select, button {
    width: 100%;
    padding: 8px;
    margin-top: 4px;
}
button {
    background: #2e7d32;
    color: white;
    border: none;
    margin-top: 15px;
    font-size: 16px;
}
pre {
    background: white;
    padding: 10px;
    margin-top: 20px;
    white-space: pre-wrap;
}
</style>
</head>

<body>

<h1>ğŸŒ± HÃœMIX Einsatz</h1>

<label>Name
<input id="name">
</label>

<label>Telefon
<input id="telefon">
</label>

<label>StraÃŸe
<input id="strasse">
</label>

<label>Hausnummer
<input id="hausnummer">
</label>

<label>Ort
<input id="ort">
</label>

<label>HÃœMIX Rasen Spezial â€“ SÃ¤cke
<input type="number" id="rasen" value="0">
</label>

<label>HÃœMIX Bio-VolldÃ¼nger â€“ SÃ¤cke
<input type="number" id="bio" value="0">
</label>

<label>Ausgestreut
<select id="ausgestreut">
<option>Ja</option>
<option>Nein</option>
</select>
</label>

<button onclick="speichern()">Speichern</button>

<pre id="ausgabe">GPS wird ermitteltâ€¦</pre>

<script>
let lat = "";
let lon = "";

navigator.geolocation.getCurrentPosition(
    pos => {
        lat = pos.coords.latitude;
        lon = pos.coords.longitude;
    },
    err => {
        alert("GPS nicht verfÃ¼gbar");
    }
);

function speichern() {
    const jetzt = new Date().toLocaleString("de-DE");

    const mapsLink = lat && lon
        ? `https://maps.google.com/?q=${lat},${lon}`
        : "kein GPS";

    const text = `
ğŸŒ± HÃœMIX Einsatz

ğŸ‘¤ Name: ${name.value}
ğŸ“ Telefon: ${telefon.value}

ğŸ“ Adresse:
${strasse.value} ${hausnummer.value}
${ort.value}

ğŸ§­ GPS:
${lat}, ${lon}

ğŸ—º Karte:
${mapsLink}

ğŸ•’ Datum/Zeit:
${jetzt}

ğŸ§´ DÃ¼nger:
HÃœMIX Rasen Spezial: ${rasen.value} SÃ¤cke
HÃœMIX Bio-VolldÃ¼nger: ${bio.value} SÃ¤cke

ğŸšœ Ausgestreut: ${ausgestreut.value}
`;

    let liste = JSON.parse(localStorage.getItem("huemix")) || [];
    liste.push(text);
    localStorage.setItem("huemix", JSON.stringify(liste));

    ausgabe.textContent = text;
}
</script>

</body>
</html>
